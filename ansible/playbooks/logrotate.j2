# ByteFreezer Proxy Log Rotation Configuration
# Generated by Ansible

# Main application logs
{{ paths.log_dir }}/*.log {
  daily
  rotate {{ logrotate.rotate_count }}
  compress
  delaycompress
  missingok
  notifempty
  create 0644 {{ service.user }} {{ service.group }}
  sharedscripts
  postrotate
    systemctl reload {{ service.name }} >/dev/null 2>&1 || true
  endscript
}

# Spooling directory logs (if enabled)
{% if config.spooling.enabled %}
{{ config.spooling.directory }}/*.log {
  daily  
  rotate {{ logrotate.rotate_count }}
  compress
  delaycompress
  missingok
  notifempty
  create 0644 {{ service.user }} {{ service.group }}
  sharedscripts
}
{% endif %}